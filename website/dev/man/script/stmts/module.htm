<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>
<head>
 <title>Glich - Define module</title>
 <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
 <link rel='icon' type='image/png' href='../../../../sys/logo32x32.png' />
 <link rel='stylesheet' type='text/css' href='../../../../sys/livery.css' />
 <link rel='stylesheet' type='text/css' href='../../../../sys/glich.css' />
</head>
<body>

 <div class='heading'>
  <div class='logo'>
   <a  href='https://nickmat.github.io/glich/website/index.htm'>
    <img class='logo' src='../../../../sys/logo266x100.png' alt='Logo' />
   </a>
  </div>
  Glich - v0.3.0 Manual<br />Define module
  <div class='clear'></div>
 </div>

 <div class="crumbs">
  <div class='dmenu'>
   <div class='dm-item m-item'>▼</div>
   <div class='dm-content'>
    <a href='../../../../index.htm' class='m-item'>Home</a>
   </div>
  </div> 
  <a href='../../../../dev/index.htm' class='m-item'>Development</a>
  <a href='../../../../dev/man/index.htm' class='m-item'>v0.3.0 Manual</a>
  <a href='../../../../dev/man/script/index.htm' class='m-item'>Glich Script</a>
  <a href='../../../../dev/man/script/stmts/index.htm' class='m-item'>Statements</a>
  <a href='module.htm' class='m-item thispage'>Define module</a>
  <a href='../../../../dev/man/script/stmts/mark.htm' class='m-item nav'>►</a>
  <a href='../../../../dev/man/script/stmts/object.htm' class='m-item nav'>◄</a>
 </div>

<div id='content' class='nomenu'>

<h2>Modules</h2>
<p>
 Modules are a way of introducing named programming elements into a Glich script.
 These elements can be objects, functions, commands, etc.
 It does this in one of two ways:-
</p>
<ul>
    <li>By immediately reading in the module's script.</li>    
    <li>By introducing the module's contents so that it is only read when they are referenced.</li>
</ul>

<table class='basic'>
<tr><th>Statement module Format</th></tr>
 <tr> <!-- See test file - test\tscripts\suite\functions\function012.hcs <<======<<<< -->
  <td class='code'><b>module</b> <i>system</i><b>:</b><i>name</i><b>;</b></td>
 </tr>
 <tr> <!-- See test file - test\tscripts\suite\functions\function012.hcs <<======<<<< -->
  <td class='code'><b>module</b> <i>system</i><b>:</b><i>name</i><b> {</b>
    <b>object</b> <i>obj_name1 obj_name2 ...</i><b>;</b>
<b>};</b></td>
 </tr>
</table>

<p>
 In the core language, the module block can only contain object definitions.
 Language extensions (such as the Hics extension) allow other definitions to be included. 
</p>

<h3>Module Signature: <i>system:name</i></h3>
<p>
    A module is identified by its signature which consists of two parts:-
</p>
<ul>
    <li><b>system</b> - This indicates the module system.
        The special system name <b>file</b> indicates that the module is to be read from a script file.
        Other names are used for internally defined modules.</li>
    <li><b>name</b> - This is the module name.
        When using the <b>file</b> system, this is the file name (with optional path).</li>
</ul>
<p>
 The signature is a text string with no spaces, but if it conform to the rules for a code name,
 it can be used without quotes.
</p>
<div class='note'><div class='inner'>
    <p>
    A code name can contain letters, digits, the colon and underscore characters.
    It cannot start with a digit and must not contain spaces.
    </p>
</div></div>

<h2>Statement: module (Read Immediately)</h2>

<p>
 A module statement can be used to immediately read in the module's script.
 This is useful when the module contains code that must be run
 to set up the environment for the rest of the script.
 An example of this would be a math module that defines mathematical functions.
</p>
<table class='basic'>
<tr><th colspan='2'>module Statement</th></tr>
<tr><th>Example</th><th>Output</th></tr>
<tr> <!-- See test file - test\glcscripts\suite\glich\statements\module\module001.glcs -->
<td class='example'>// Script file: games/simon.glcs
command simon(action) {
    write "Simon says: " + @quote(action) nl;
};
</td>
</tr><tr>
<td class='example'>// Script file: test_simon.glcs
<b>module</b> "file:games/simon";
call simon("Jump around!");
</td>
<td>
Simon says: "Jump around!"
</td>
</tr>
</table>

<h2>Statement: module (Introduce Contents)</h2>
<p>
 A common use case for Glich is to read in a library of statements
 ready for for use by the host program.
 The use of modules is intended to reduce the need to
 read in all of the statements.
 A module statement will introduce the object's code name
 so that the actual module is only read if it is required.
</p>

<table class='basic'>
<tr><th colspan='2'>module Statement</th></tr>
<tr><th>Example</th><th>Output</th></tr>
<tr> <!-- See test file - test\glcscripts\suite\glich\statements\module\module001.glcs -->
<td class='example'>// Script file: test_mod.glcs
object test_sum {
    values one two three;
    function sum {
        result = one + two + three;
    };
};
</td>
<td></td>
</tr><tr>
<td class='example'>// Script file: test_run.glcs
<b>module</b> file:test_mod {
    object test_sum;
};
let ts = {test_sum 1, 2, 3};
write ts nl ts@sum; 
</td>
<td>{test_sum 1, 2, 3}<br>
6
</td>
</tr>
</table>


</div><!--id=content-->

 <div class="crumbs">
  <div class='dmenu'>
   <div class='dm-item m-item'>▼</div>
   <div class='dm-content'>
    <a href='../../../../index.htm' class='m-item'>Home</a>
   </div>
  </div> 
  <a href='../../../../dev/index.htm' class='m-item'>Development</a>
  <a href='../../../../dev/man/index.htm' class='m-item'>v0.3.0 Manual</a>
  <a href='../../../../dev/man/script/index.htm' class='m-item'>Glich Script</a>
  <a href='../../../../dev/man/script/stmts/index.htm' class='m-item'>Statements</a>
  <a href='module.htm' class='m-item thispage'>Define module</a>
  <a href='../../../../dev/man/script/stmts/mark.htm' class='m-item nav'>►</a>
  <a href='../../../../dev/man/script/stmts/object.htm' class='m-item nav'>◄</a>
 </div>

 <div class='tail'></div>

 <div id='valid'>
  <p>
   <a href='https://nickmat.github.io/WebPageLayout/website/index.htm'><img src='../../../../sys/wpl_16.png' alt='Managed by WebPageLayout' height='16' width='16' /></a>
   <a href='https://www.gueury.com/mozilla/'><img src='../../../../sys/tidy_16.gif' alt='Validated by HTML Validator (based on Tidy)' height='16' width='39' /></a>
  </p>
 </div>

 <div id='create-date'><p>27<sup>th</sup> September 2024</p></div>


</body>
</html>
